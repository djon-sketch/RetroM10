-- RetroM10 Full GUI with Grid & ResetOnSpawn
local player = game.Players.LocalPlayer
player.CharacterAdded:Connect(function()
    -- ResetOnSpawn false
end)

-- ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RetroM10"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0,400,0,500)
frame.Position = UDim2.new(0.5,-200,0.5,-250)
frame.BackgroundColor3 = Color3.fromRGB(15,15,15)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

-- Border ungu
local stroke = Instance.new("UIStroke")
stroke.Thickness = 2
stroke.Color = Color3.fromRGB(180,0,255)
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
stroke.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,50)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(180,0,255)
title.Text = "RetroM10"
title.Parent = frame

-- Tab buttons container
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1,0,0,40)
tabFrame.Position = UDim2.new(0,0,0,50)
tabFrame.BackgroundTransparency = 1
tabFrame.Parent = frame

-- Server & Admin Buttons
local function createTabButton(parent, text)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.45,-5,1,0)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 16
    btn.Text = text
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.BackgroundColor3 = Color3.fromRGB(0,0,0)
    btn.BorderSizePixel = 0
    btn.Parent = parent
    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(180,0,255)
    stroke.Parent = btn
    return btn
end

local serverPageBtn = createTabButton(tabFrame,"Server")
serverPageBtn.Position = UDim2.new(0,5,0,0)
local adminPageBtn = createTabButton(tabFrame,"Admin Panel")
adminPageBtn.Position = UDim2.new(0.5,0,0,0)

-- Create Button
local function createButton(parent,text,callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0,120,0,40)
    btn.BackgroundColor3 = Color3.fromRGB(0,0,0)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Text = text
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 16
    btn.BorderSizePixel = 0
    btn.Parent = parent
    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(180,0,255)
    stroke.Parent = btn
    if callback then btn.MouseButton1Click:Connect(callback) end
    return btn
end

-- TextBox
local function createTextBox(parent,placeholder)
    local box = Instance.new("TextBox")
    box.Size = UDim2.new(0,120,0,40)
    box.PlaceholderText = placeholder
    box.BackgroundColor3 = Color3.fromRGB(0,0,0)
    box.TextColor3 = Color3.fromRGB(255,255,255)
    box.BorderSizePixel = 0
    box.Font = Enum.Font.Gotham
    box.TextSize = 16
    box.Parent = parent
    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(180,0,255)
    stroke.Parent = box
    return box
end

-- Server Page
local serverPage = Instance.new("ScrollingFrame")
serverPage.Size = UDim2.new(1,0,1,-100)
serverPage.Position = UDim2.new(0,0,0,90)
serverPage.BackgroundTransparency = 1
serverPage.CanvasSize = UDim2.new(0,0,2,0)
serverPage.ScrollBarThickness = 8
serverPage.Parent = frame

local gridServer = Instance.new("UIGridLayout")
gridServer.CellSize = UDim2.new(0,120,0,40)
gridServer.CellPadding = UDim2.new(0,10,0,10)
gridServer.FillDirection = Enum.FillDirection.Horizontal
gridServer.HorizontalAlignment = Enum.HorizontalAlignment.Center
gridServer.SortOrder = Enum.SortOrder.LayoutOrder
gridServer.Parent = serverPage

-- Admin Page
local adminPage = Instance.new("ScrollingFrame")
adminPage.Size = UDim2.new(1,0,1,-100)
adminPage.Position = UDim2.new(0,0,0,90)
adminPage.BackgroundTransparency = 1
adminPage.ScrollBarThickness = 8
adminPage.Visible = false
adminPage.Parent = frame

local gridAdmin = Instance.new("UIGridLayout")
gridAdmin.CellSize = UDim2.new(0,120,0,40)
gridAdmin.CellPadding = UDim2.new(0,10,0,10)
gridAdmin.FillDirection = Enum.FillDirection.Horizontal
gridAdmin.HorizontalAlignment = Enum.HorizontalAlignment.Center
gridAdmin.SortOrder = Enum.SortOrder.LayoutOrder
gridAdmin.Parent = adminPage

-- Tombol Server
local serverScripts = {
    {"1x1x1x1 Revenge (Emergency)","https://raw.githubusercontent.com/djon-sketch/OnebyoneRevenge/refs/heads/main/onebyone.txt"},
    {"Green All","https://raw.githubusercontent.com/djon-sketch/Green-All/main/green.txt"},
    {"Illuminati","https://raw.githubusercontent.com/djon-sketch/illucat/refs/heads/main/ill.txt"},
    {"Silly Cat!","https://raw.githubusercontent.com/djon-sketch/Silly-cat/refs/heads/main/silly.txt"},
    {"Rainbow SelectionBox(aP)","https://raw.githubusercontent.com/djon-sketch/SelectionBox/refs/heads/main/slct.txt"},
    {"ForceField(LP)","https://raw.githubusercontent.com/djon-sketch/ForceFieldz/refs/heads/main/ff.txt"},
    {"OOFPocalyse","https://raw.githubusercontent.com/djon-sketch/Pocalyse/refs/heads/main/oofpocalyse.txt"},
    {"Red Reign (meme)","https://raw.githubusercontent.com/djon-sketch/redreign/refs/heads/main/redrgn.txt"},
    {"Mario Exe","https://rawscripts.net/raw/Universal-Script-Mario-exe-scary-mario-script-by-g00byd0lan-42167"}
}

for _,v in pairs(serverScripts) do
    createButton(serverPage,v[1],function()
        loadstring(game:HttpGet(v[2],true))()
    end)
end

-- Admin Page Buttons & TextBoxes
local ffBox = createTextBox(adminPage,"Username")
createButton(adminPage,"ForceField",function()
    local user = ffBox.Text
    if user ~= "" then
        local target = game.Players:FindFirstChild(user)
        if target then
            local ff = Instance.new("ForceField")
            ff.Parent = target.Character or target.CharacterAdded:Wait()
        end
    end
end)

local kickBox = createTextBox(adminPage,"Username")
createButton(adminPage,"Kick",function()
    local user = kickBox.Text
    if user ~= "" then
        local target = game.Players:FindFirstChild(user)
        if target then target:Kick("Kicked by Admin Panel") end
    end
end)

local banBox = createTextBox(adminPage,"Username")
createButton(adminPage,"Ban",function()
    local user = banBox.Text
    if user ~= "" then
        local target = game.Players:FindFirstChild(user)
        if target then target:Kick("Banned by Admin Panel") end
    end
end)

local hintBox = createTextBox(adminPage,"Text")
createButton(adminPage,"Hint",function()
    local txt = hintBox.Text
    if txt ~= "" then
        local h = Instance.new("Hint")
        h.Text = txt
        h.Parent = workspace
    end
end)

createButton(adminPage,"Remove Hint",function()
    for _,v in pairs(workspace:GetChildren()) do
        if v:IsA("Hint") then v:Destroy() end
    end
end)

local msgBox = createTextBox(adminPage,"Text")
createButton(adminPage,"Message",function()
    local txt = msgBox.Text
    if txt ~= "" then
        local m = Instance.new("Message")
        m.Text = txt
        m.Parent = workspace
        task.delay(5,function() m:Destroy() end)
    end
end)

createButton(adminPage,"Shutdown",function()
    for _,v in pairs(game.Players:GetPlayers()) do
        if v~=player then v:Kick("Server Shutdown by Admin Panel") end
    end
end)

-- Tab Switch
serverPageBtn.MouseButton1Click:Connect(function()
    serverPage.Visible = true
    adminPage.Visible = false
end)
adminPageBtn.MouseButton1Click:Connect(function()
    serverPage.Visible = false
    adminPage.Visible = true
end)
